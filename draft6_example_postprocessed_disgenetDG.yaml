## example of what an association looks like after processing the API/JSON response using the registry metadata from draft6_schema_x-bte-association-retrieval.yaml

## association modeled: the first entry in  
## http://mydisease.info/v1/disease/MONDO:0016419?fields=disgenet.genes_related_to_disease
## corresponds with https://www.disgenet.org/browser/0/1/1/C0006142/0/25/geneid__9-source__BEFREE/_b./

## no context/relevance info for this operation
## JSON response fields that we didn't use: year first reported (YearInitial) and year last reported (YearFinal)

type: object
properties:
  ## WHAT the relationship is                    
  predicateInfo:  
    biolink: "biolink:related_to" 
    ## TRAPI predicate field seems to require "biolink:" prefix        
    id: "SIO:001403"  ## same as TRAPI/biolink relation field
    label: "SIO:is_associated_with"
    nodesConflated:  ## optional field
    ## DisGeNET disease-gene relationships conflate diseases/phenotypes and genes/gene-products      
    - original: Disease
      conflated: PhenotypicFeature
      where: DisGeNET
    - original: Gene
      conflated: GeneProduct
      where: DisGeNET   
  references:  ## IMPORTANT: users use this as evidence 
    publications:
      pmid: 
      
      
      
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\      
      
    websites:   
    -
    -
            https://www.disgenet.org/browser/0/1/0/{disease}/geneid__{gene}-source__{source}/ 
          templateKeys:  ## map the template fields above to response fields or to variables
            source: "disgenet.genes_related_to_disease.source"
            gene: "disgenet.genes_related_to_disease.gene_id"
            ## the UMLS Disease IDs used as input to the query, as an array of strings
            disease: "inputs[0]"
      provenance:  
      ## organized this way because there can be provenance for later operations like scoring/overlay 
        associationRetrieval: 
          ## currently involves a good amount of processing/mapping values from response fields. 
          ## This is an issue with APIs/knowledge-sources that aggregate info from many other sources. 
          instructions: >- 
            Map from the specific association JSON-record response-value to the provenance model 
            (an array of objects describing sources and how they made the association). This mapping 
            is stored in the provenanceMapping object in the mappingFile JSON. Result is an edge 
            property named provenance, which has a key called associationRetrieval -> 
            value is one array of objects. 
          ## currently assuming only one field used. Need to change schema if this changes. 
          responseField: "disgenet.genes_related_to_disease.source"
          mappingFile: "draft6_disgenetDGGD_mappingfile.yaml"  
          ## could use mappingFile to get source info for metaKG
          bteCode: ""  
          ## link to the github BTE file where we post process to build this
      numericMeasures:
      ## gives info about the measure and what response field to use to retrieve it 
      - name: "DisGeNET gene-disease association score"
        responseField: "disgenet.genes_related_to_disease.score"
        measureReferences:
          websites: 
            value: "https://www.disgenet.org/dbinfo#section31"
        range:
          minExclusive: 0
          maxInclusive: 1
        directionMeaning:
          larger: more_evidence
      - name: "DisGeNET evidence index"
        responseField: "disgenet.genes_related_to_disease.EI"
        measureReferences:
          websites: 
            value: "https://www.disgenet.org/dbinfo#section36"
        missingValueMeaning: >-
          This measure is calculated from BeFree and PsyGeNET info. 
          If the association was not found in those sources, this 
          measure likely was not calculated. 
        range:
          minExclusive: 0
          maxInclusive: 1
        directionMeaning:
          larger: more_consistent
      - name: "DisGeNET disease specificity index"
        ontologyTerm: 'SIO:001351'
        responseField: "disgenet.genes_related_to_disease.DSI"
        measureReferences:
          websites: 
            value: "https://www.disgenet.org/dbinfo#section33"   
        missingValueMeaning: >-
          This measure is calculated when a gene is associated with 
          one or more diseases. If the value is missing, this gene is 
          annotated only to phenotypes. 
        range:
          minExclusive: 0
          maxInclusive: 1
        directionMeaning:
          larger: more_specific
      - name: "DisGeNET disease pleiotropy index"
        ontologyTerm: 'SIO:001352'
        responseField: "disgenet.genes_related_to_disease.DPI"
        measureReferences:
          websites: 
            value: "https://www.disgenet.org/dbinfo#section34"    
        missingValueMeaning: >-
          This measure is calculated when a gene is associated with 
          one or more diseases in MeSH disease classes. If the value 
          is missing, this gene is annotated only to phenotypes OR
          the diseases do not map to any MeSH classes. 
        range:
          minExclusive: 0
          maxInclusive: 1
        directionMeaning:
          smaller: more_specific